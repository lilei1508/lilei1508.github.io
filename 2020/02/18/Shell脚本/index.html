<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Shell脚本 | LiLei</title><meta name="description" content="Shell脚本"><meta name="keywords" content="Linux,Shell"><meta name="author" content="LiLei"><meta name="copyright" content="LiLei"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Shell脚本"><meta name="twitter:description" content="Shell脚本"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta property="og:type" content="article"><meta property="og:title" content="Shell脚本"><meta property="og:url" content="http://lilei.cool/2020/02/18/Shell%E8%84%9A%E6%9C%AC/"><meta property="og:site_name" content="LiLei"><meta property="og:description" content="Shell脚本"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://lilei.cool/2020/02/18/Shell%E8%84%9A%E6%9C%AC/"><link rel="prev" title="IDEA中Gradle的相关问题" href="http://lilei.cool/2020/04/10/IDEA%E4%B8%ADGradle%E7%9A%84%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">LiLei</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">2</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">5</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">2</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#HelloWorld"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">HelloWorld</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#执行脚本"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">执行脚本</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#变量"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">变量</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#变量作用域"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">变量作用域</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#字符串"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">字符串</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#数组"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">数组</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#多行注释"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">多行注释</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#执行参数"><span class="toc_mobile_items-number">8.</span> <span class="toc_mobile_items-text">执行参数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#算数运算"><span class="toc_mobile_items-number">9.</span> <span class="toc_mobile_items-text">算数运算</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#关系运算"><span class="toc_mobile_items-number">10.</span> <span class="toc_mobile_items-text">关系运算</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#文件"><span class="toc_mobile_items-number">11.</span> <span class="toc_mobile_items-text">文件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#流程控制"><span class="toc_mobile_items-number">12.</span> <span class="toc_mobile_items-text">流程控制</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#函数"><span class="toc_mobile_items-number">13.</span> <span class="toc_mobile_items-text">函数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#输入输出重定向"><span class="toc_mobile_items-number">14.</span> <span class="toc_mobile_items-text">输入输出重定向</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#路径相关"><span class="toc_mobile_items-number">15.</span> <span class="toc_mobile_items-text">路径相关</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#获取当前shell脚本所在的路径"><span class="toc_mobile_items-number">15.1.</span> <span class="toc_mobile_items-text">获取当前shell脚本所在的路径</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#HelloWorld"><span class="toc-number">1.</span> <span class="toc-text">HelloWorld</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#执行脚本"><span class="toc-number">2.</span> <span class="toc-text">执行脚本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量"><span class="toc-number">3.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量作用域"><span class="toc-number">4.</span> <span class="toc-text">变量作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符串"><span class="toc-number">5.</span> <span class="toc-text">字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数组"><span class="toc-number">6.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多行注释"><span class="toc-number">7.</span> <span class="toc-text">多行注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#执行参数"><span class="toc-number">8.</span> <span class="toc-text">执行参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#算数运算"><span class="toc-number">9.</span> <span class="toc-text">算数运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关系运算"><span class="toc-number">10.</span> <span class="toc-text">关系运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件"><span class="toc-number">11.</span> <span class="toc-text">文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#流程控制"><span class="toc-number">12.</span> <span class="toc-text">流程控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数"><span class="toc-number">13.</span> <span class="toc-text">函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#输入输出重定向"><span class="toc-number">14.</span> <span class="toc-text">输入输出重定向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#路径相关"><span class="toc-number">15.</span> <span class="toc-text">路径相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#获取当前shell脚本所在的路径"><span class="toc-number">15.1.</span> <span class="toc-text">获取当前shell脚本所在的路径</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)"><div id="post-info"><div id="post-title"><div class="posttitle">Shell脚本</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2020-02-18<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-04-10</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Linux/">Linux</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><html><head></head><body><h2 id="HelloWorld"><a href="#HelloWorld" class="headerlink" title="HelloWorld"></a>HelloWorld</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment"># 第一行是指定当前脚本的执行程序</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"input line:"</span></span><br><span class="line"><span class="built_in">read</span> line</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$line</span>"</span></span><br></pre></td></tr></tbody></table></figure></div>

<h2 id="执行脚本"><a href="#执行脚本" class="headerlink" title="执行脚本"></a>执行脚本</h2><ul>
<li>直接将shell脚本文件作为可执行文件执行，如果脚本头部声明了执行程序那么会使用指定的程序执行，如果没有将会使用系统默认的shell解释器执行。</li>
<li>通过解释器程序执行，比如bash xxx.sh。</li>
<li>source xxx.sh 或者. xxx.sh。这种方式会在当前用户进程中执行脚本中的所有命令，而不是开启一个新进程。上面的方式就是通过开启新进程来执行脚本的<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">x=<span class="string">"hello world"</span></span><br><span class="line"><span class="comment">#输出变量 ${x}也可简写成$x</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">${x}</span></span><br><span class="line"><span class="comment">#反引号或者$()用于获取命令输出</span></span><br><span class="line">y=`ping 127.0.0.1`</span><br><span class="line">y=$(ping 127.0.0.1)</span><br><span class="line"><span class="comment">#只读变量</span></span><br><span class="line"><span class="built_in">readonly</span> z=1</span><br><span class="line"><span class="comment">#删除变量,删除后无法再被使用，无法删除只读变量</span></span><br><span class="line"><span class="built_in">unset</span> z</span><br></pre></td></tr></tbody></table></figure></div>

</li>
</ul>
<h2 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h2><p>shell定义的变量默认是全局的，全局变量在当前shell进程(不包含子进程)都是有效的</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">func</span></span>(){</span><br><span class="line">    x=1</span><br><span class="line">}</span><br><span class="line">func</span><br><span class="line"><span class="comment">#这时输出1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$x</span></span><br></pre></td></tr></tbody></table></figure></div>

<p>如果使用source执行这段脚本，那么下一个用source执行的脚本读到x值也是1，因为全局变量在当前shell进程都是有效的。如果是用bash开启一个新的进程获取x值的话那就是空<br>可以将变量定义为局部变量，这样变量只在函数内部有效</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">func</span></span>(){</span><br><span class="line">    <span class="built_in">local</span> x=1</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></div>

<p>shell环境变量在当前进程以及其子进程中都是有效的</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> a=1</span><br><span class="line"><span class="comment">#开启一个子进程</span></span><br><span class="line">bash</span><br><span class="line"><span class="comment">#子进程中a的值也是1</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line"><span class="comment">#退出子进程</span></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></tbody></table></figure></div>

<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#单引号包裹的内容会输出原内容，变量并不会被解析</span></span><br><span class="line"><span class="comment">#比如下面输出的就是${x}而不是hello world</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'${x}'</span></span><br><span class="line"><span class="comment">#双引号则会解析里面的变量，下面这个输出的就是hello world</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">${x}</span>"</span></span><br><span class="line"><span class="comment">#拼接字符串</span></span><br><span class="line">y=<span class="string">"x"</span><span class="variable">${x}</span><span class="string">"z"</span></span><br><span class="line"><span class="comment">#获取字符串长度</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">${#y}</span></span><br><span class="line"><span class="comment">#提取字串,从m位开始截取n个字符</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">${y:1:2}</span></span><br><span class="line"><span class="comment">#判断相等和不等,用=和!=</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">"1"</span> = <span class="variable">$y</span> ]</span><br><span class="line"><span class="keyword">then</span> </span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#-z判断字符串长度是否为0,-n判断是否不为0</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">""</span>]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#$判断是否为空</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$y</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></tbody></table></figure></div>

<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">arr=(1 2 3)</span><br><span class="line"><span class="comment">#shell的数组是动态数组</span></span><br><span class="line">arr[3]=4</span><br><span class="line"><span class="comment">#取值</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">${arr[0]}</span></span><br><span class="line"><span class="comment">#取所有元素,这个输出的就是：1 2 3 4</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">${arr[@]}</span></span><br><span class="line"><span class="comment">#获取数组长度</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">${#arr[@]}</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">${#arr[*]}</span></span><br></pre></td></tr></tbody></table></figure></div>

<h2 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">:<<eof< span><br><span class="line">注释</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">:<<<span class="string">'comment'</span></span><br><span class="line">注释内容...</span><br><span class="line">注释内容...</span><br><span class="line">注释内容...</span><br><span class="line">comment</span><br><span class="line"></span><br><span class="line">:<<!--</span--><br><span class="line">注释</span><br><span class="line">!</span><br></span></eof<></span></pre></td></tr></tbody></table></figure></div>

<h2 id="执行参数"><a href="#执行参数" class="headerlink" title="执行参数"></a>执行参数</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#执行脚本</span></span><br><span class="line">$./xxx.sh p1 p2</span><br><span class="line"><span class="comment">#$0为脚本文件名</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$0</span></span><br><span class="line"><span class="comment">#$1...n为第n个参数</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$1</span></span><br><span class="line"><span class="comment"># $#为参数个数</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$#</span></span><br><span class="line"><span class="comment"># $*获取所有参数(字符串的形式),"p1 p2"</span></span><br><span class="line"><span class="built_in">echo</span> $*</span><br><span class="line"><span class="comment"># $@获取所有参数(字符串的形式),"p1""p2"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$@</span></span><br><span class="line"><span class="comment"># 当前shell进程ID</span></span><br><span class="line"><span class="built_in">echo</span> $$</span><br><span class="line"><span class="comment"># 后台运行的最后一个进程的ID</span></span><br><span class="line"><span class="built_in">echo</span> $!</span><br><span class="line"><span class="comment"># 当前shell使用的选项</span></span><br><span class="line"><span class="built_in">echo</span> $-</span><br><span class="line"><span class="comment"># 最后命令退出状态,0表示没错误</span></span><br><span class="line"><span class="built_in">echo</span> $?</span><br></pre></td></tr></tbody></table></figure></div>

<h2 id="算数运算"><a href="#算数运算" class="headerlink" title="算数运算"></a>算数运算</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#通过expr命令进行运算</span></span><br><span class="line">sum=`expr 1 + 2`</span><br><span class="line">mode=`expr 1 % 2`</span><br><span class="line"><span class="comment">#expr的乘法运算符前面必须加上转移符</span></span><br><span class="line">multi=`expr 1 \* 2`</span><br><span class="line"><span class="comment">#通过$[]运算</span></span><br><span class="line">sum=$[1+2]</span><br><span class="line">multi=$[1*2]</span><br></pre></td></tr></tbody></table></figure></div>

<h2 id="关系运算"><a href="#关系运算" class="headerlink" title="关系运算"></a>关系运算</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#数字相等,true为1，false为0</span></span><br><span class="line">1 == 2</span><br><span class="line">1 != 2</span><br><span class="line"><span class="comment">#数字或者数字字符串相等</span></span><br><span class="line"><span class="keyword">if</span> [ 1 -eq <span class="string">"1"</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"1 equals 1"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ 1 -ne <span class="string">"2"</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"1 not equals 2"</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#左边大于有右边-gt,小于-lt</span></span><br><span class="line"><span class="comment">#左边大于等于右边-ge,小于等于-le</span></span><br><span class="line"><span class="comment">#布尔运算 !、-o或运算、-a与运算</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> != <span class="variable">$b</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> -lt <span class="variable">$b</span> -o <span class="variable">$a</span> -eq <span class="variable">$b</span>]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#逻辑运算, &&、||。和上面的区别就是多加个中括号</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$a</span> -lt <span class="variable">$b</span> || <span class="variable">$a</span> -eq <span class="variable">$b</span> ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></tbody></table></figure></div>


<h2 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h2><table>
<thead>
<tr>
<th>操作符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-b file</td>
<td>检测文件是否是块设备文件，如果是，则返回 true。</td>
</tr>
<tr>
<td>-c file</td>
<td>检测文件是否是字符设备文件，如果是，则返回 true。</td>
</tr>
<tr>
<td>-d file</td>
<td>检测文件是否是目录，如果是，则返回 true。</td>
</tr>
<tr>
<td>-f file</td>
<td>检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。</td>
</tr>
<tr>
<td>-g file</td>
<td>检测文件是否设置了 SGID 位，如果是，则返回 true。</td>
</tr>
<tr>
<td>-k file</td>
<td>检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true。</td>
</tr>
<tr>
<td>-p file</td>
<td>检测文件是否是有名管道，如果是，则返回 true。</td>
</tr>
<tr>
<td>-u file</td>
<td>检测文件是否设置了 SUID 位，如果是，则返回 true。</td>
</tr>
<tr>
<td>-r file</td>
<td>检测文件是否可读，如果是，则返回 true。</td>
</tr>
<tr>
<td>-w file</td>
<td>检测文件是否可写，如果是，则返回 true。</td>
</tr>
<tr>
<td>-x file</td>
<td>检测文件是否可执行，如果是，则返回 true。</td>
</tr>
<tr>
<td>-s file</td>
<td>检测文件是否为空（文件大小是否大于0），不为空返回 true。</td>
</tr>
<tr>
<td>-e file</td>
<td>检测文件（包括目录）是否存在，如果是，则返回 true。</td>
</tr>
</tbody></table>
<p>tips：如果这个file是一个变量（$xxxpath)，如果xxxpath是一个不存在的变量，那么判断是否存在的操作总是会返回true。</p>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#判断,condition可以为[xxx]或者test xxx</span></span><br><span class="line"><span class="comment">#else后面不需要写then</span></span><br><span class="line"><span class="keyword">if</span> [ 1 -eq 2 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> x</span><br><span class="line"><span class="keyword">elif</span> <span class="built_in">test</span> <span class="string">"1a"</span> = <span class="string">"2a"</span></span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> y</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> z</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#如果写成一行要加分号</span></span><br><span class="line"><span class="keyword">if</span> [ 1 -eq 2 ];<span class="keyword">then</span> <span class="built_in">echo</span> x;<span class="keyword">fi</span></span><br><span class="line"><span class="comment"># 判断文件是否存在</span></span><br><span class="line"><span class="keyword">if</span> [ -e xxx.txt];<span class="keyword">then</span> <span class="built_in">echo</span> exist;<span class="keyword">fi</span></span><br><span class="line"><span class="comment"># 判断文件是否不存在</span></span><br><span class="line"><span class="keyword">if</span> [ ! -e xxx.txt];<span class="keyword">then</span> <span class="built_in">echo</span> exist;<span class="keyword">fi</span></span><br><span class="line"><span class="comment">#for循环</span></span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> 1 2 3 4 5</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$v</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#for遍历字符串</span></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> <span class="string">"123456"</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$c</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#使用c语法</span></span><br><span class="line"><span class="keyword">for</span> ((i=0;i<100;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment"># while</span></span><br><span class="line"><span class="keyword">while</span> conditon</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#无限循环</span></span><br><span class="line"><span class="keyword">while</span>:;<span class="keyword">do</span> <span class="built_in">echo</span> 1 ;<span class="keyword">done</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span>:;<span class="keyword">do</span> <span class="built_in">echo</span> 2;<span class="keyword">done</span></span><br><span class="line"><span class="keyword">for</span> ((;;))</span><br><span class="line"><span class="comment">#until,也就是do-while结构</span></span><br><span class="line">until condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#case</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$aNum</span> <span class="keyword">in</span></span><br><span class="line">    1) <span class="built_in">echo</span> <span class="string">'1'</span></span><br><span class="line">    ;;</span><br><span class="line">    2) <span class="built_in">echo</span> <span class="string">'2'</span></span><br><span class="line">    ;;</span><br><span class="line">    3) <span class="built_in">echo</span> <span class="string">'3'</span></span><br><span class="line">    ;;</span><br><span class="line">    4) <span class="built_in">echo</span> <span class="string">'4'</span></span><br><span class="line">    ;;</span><br><span class="line">    *) <span class="built_in">echo</span> <span class="string">'no match'</span></span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></tbody></table></figure></div>


<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义</span></span><br><span class="line"><span class="comment">#function可以省略</span></span><br><span class="line"><span class="comment">#如果没有return将以最后一条命令的结果作为返回值</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">func</span></span>(){</span><br><span class="line"> <span class="comment"># 输出参数1</span></span><br><span class="line"> <span class="built_in">echo</span> <span class="variable">$1</span></span><br><span class="line"> <span class="built_in">return</span> 1</span><br><span class="line">}</span><br><span class="line"><span class="comment">#获取参数和命令行参数获取方式一样用$1...n</span></span><br><span class="line"><span class="comment">#从第10个参数开始需要用${n}获取</span></span><br><span class="line"><span class="comment">#调用函数</span></span><br><span class="line">func param1</span><br></pre></td></tr></tbody></table></figure></div>

<h2 id="输入输出重定向"><a href="#输入输出重定向" class="headerlink" title="输入输出重定向"></a>输入输出重定向</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>command > file</td>
<td>将输出重定向到 file。</td>
</tr>
<tr>
<td>command < file</td>
<td>将输入重定向到 file。</td>
</tr>
<tr>
<td>command >> file</td>
<td>将输出以追加的方式重定向到 file。</td>
</tr>
<tr>
<td>n > file</td>
<td>将文件描述符为 n 的文件重定向到 file。</td>
</tr>
<tr>
<td>n >> file</td>
<td>将文件描述符为 n 的文件以追加的方式重定向到 file。</td>
</tr>
<tr>
<td>n >& m</td>
<td>将输出文件 m 和 n 合并。</td>
</tr>
<tr>
<td>n <& m</td>
<td>将输入文件 m 和 n 合并。</td>
</tr>
<tr>
<td><< tag</td>
<td>将开始标记 tag 和结束标记 tag 之间的内容作为输入。</td>
</tr>
</tbody></table>
<p>一般情况下，每个 Unix/Linux 命令运行时都会打开三个文件：</p>
<ul>
<li>标准输入文件(stdin)：stdin的文件描述符为0，Unix程序默认从stdin读取数据。</li>
<li>标准输出文件(stdout)：stdout 的文件描述符为1，Unix程序默认向stdout输出数据。</li>
<li>标准错误文件(stderr)：stderr的文件描述符为2，Unix程序会向stderr流中写入错误信息。<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将某命令的标准输出与错误输出重定向到file文件中</span></span><br><span class="line"><span class="built_in">command</span> > file 2>&1</span><br><span class="line"><span class="comment">#将一段内容作为输入</span></span><br><span class="line"><span class="built_in">command</span> <<tag< span><br><span class="line">xxxxx</span><br><span class="line">yyyyy</span><br><span class="line">TAG</span><br><span class="line"><span class="comment">#输出重定向到空，也就是丢弃输出</span></span><br><span class="line"><span class="built_in">command</span> > /dev/null</span><br><span class="line"><span class="comment">#丢弃标准输出和错误输出</span></span><br><span class="line"><span class="built_in">command</span> > /dev/null 2>&1</span><br></tag<></span></pre></td></tr></tbody></table></figure></div>

</li>
</ul>
<h2 id="路径相关"><a href="#路径相关" class="headerlink" title="路径相关"></a>路径相关</h2><h3 id="获取当前shell脚本所在的路径"><a href="#获取当前shell脚本所在的路径" class="headerlink" title="获取当前shell脚本所在的路径"></a>获取当前shell脚本所在的路径</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">sh</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过$(dirname "$0")获取</span></span><br><span class="line"><span class="comment"># 直接从dirname返回的未必是绝对路径，取决于提供给dirname的参数是否是绝对路径（参考dirname命令）</span></span><br><span class="line">script_path=$(dirname <span class="string">"<span class="variable">$0</span>"</span>)</span><br><span class="line"><span class="comment"># 通过$(cd "$(dirname "$0")";pwd)</span></span><br><span class="line"><span class="comment"># 这个返回的就是绝对路径</span></span><br><span class="line">script_path=$(<span class="built_in">cd</span> <span class="string">"<span class="variable">$(dirname "$0")</span>"</span>;<span class="built_in">pwd</span>)</span><br><span class="line"><span class="comment"># 通过readlink命令</span></span><br><span class="line">script_path=$(dirname $(readlink -f <span class="string">"<span class="variable">$0</span>"</span>))</span><br></pre></td></tr></tbody></table></figure></div>
</body></html></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">LiLei</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://lilei.cool/2020/02/18/Shell%E8%84%9A%E6%9C%AC/">http://lilei.cool/2020/02/18/Shell%E8%84%9A%E6%9C%AC/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://lilei.cool">LiLei</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux    </a><a class="post-meta__tags" href="/tags/Shell/">Shell    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付宝"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-full"><a href="/2020/04/10/IDEA%E4%B8%ADGradle%E7%9A%84%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>IDEA中Gradle的相关问题</span></div></a></div></nav></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By LiLei</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>